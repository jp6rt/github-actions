const { format } = require('@jp6rt/utils')
const chalk = require('chalk')

const CliLogger = class {
	constructor(label, enabled) {
		/**
		 * @property
		 * Label for all the logs (default=Log)
		 */
		this.label = format('{0}:', label || 'Log')
		/**
		 * @property
		 * Switch for all the log (default=false) 
		 */
		this.enabled = enabled
	}
	silent(...args) {
		this.enabled && console.log.apply(this, [ chalk.yellow(this.label), format(...args) ])
	}
	primary(...args) {
		this.enabled && console.log.apply(this, [ chalk.blue(this.label), chalk.cyan(format(...args)) ])
	}
	accent(...args) {
		this.enabled && console.log.apply(this, [ chalk.green(this.label), chalk.cyan(format(...args)) ])
	}
	error(...args) {
		this.enabled && console.log.apply(this, [ chalk.red(this.label), chalk.cyan(format(...args)) ])
	}
}

module.exports = (label, enabled) => {
	return new CliLogger(label, enabled)
}